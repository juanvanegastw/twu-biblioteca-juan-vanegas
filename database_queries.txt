1. Who checked out the book 'The Hobbitâ€™?
SELECT * FROM  member WHERE id = (SELECT member_id FROM checkout_item WHERE book_id = (SELECT id FROM book WHERE title ='The Hobbit'));

id|name
1|Anand Beck

2.How many people have not checked out anything?
SELECT count(*) people_without_checkout FROM member WHERE id NOT IN (SELECT member_id FROM checkout_item);

people_without_checkout
37

3. What books and movies aren't checked out?

SELECT 'Book  ',id,title FROM book WHERE id NOT IN (SELECT book_id FROM checkout_item WHERE book_id IS NOT null) UNION SELECT 'Movie ',id,title FROM movie WHERE id NOT IN (SELECT movie_id FROM checkout_item WHERE movie_id IS NOT null);

item_type|id|title
Book  |2|Fellowship of the Ring
Book  |6|1984
Book  |7|Tom Sawyer
Book  |8|Catcher in the Rye
Book  |9|To Kill a Mockingbird
Book  |10|Domain Driven Design
Movie |6|Thin Red Line
Movie |7|Crouching Tiger, Hidden Dragon
Movie |8|Lawrence of Arabia
Movie |9|Office Space

4. Add the book 'The Pragmatic Programmer', and add yourself as a member. Check out 'The Pragmatic Programmer'. Use your query from question 1 to verify that you have checked it out. Also, provide the SQL used to update the database.

INSERT INTO book (title) VALUES('The Pragmatic Programmer');
INSERT INTO member(name) VALUES('Juan Vanegas');
INSERT INTO checkout_item(book_id,member_id) SELECT B.id, M.id FROM book B, member M WHERE M.name='Juan Vanegas' AND B.title ='The Pragmatic Programmer';
SELECT * FROM  member WHERE id = (SELECT member_id FROM checkout_item WHERE book_id = (SELECT id FROM book WHERE title ='The Pragmatic Programmer'));

id|name
43|Juan Vanegas

5.Who has checked out more that 1 item? 
SELECT M.id AS member_id, M.name, CO.items FROM Member M INNER JOIN (SELECT member_id,count(*) AS items FROM checkout_item GROUP BY member_id) AS CO WHERE M.id=CO.member_id AND  CO.items > 1;

member_id|name|items
1|Anand Beck|3
6|Frank Smith|3
